<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <table border="1" cellspacing="0">
        <thead>
            <tr>
                <th colspan="3">
                    数据库表person插入信息:
                </th>
            </tr>
        </thead>
        <tbody>
            <form id="1">
                <tr>
                    <td width="200">username</td>
                    <td width="200"><input type="text" name="username" /></td>
                    <td width="200"></td>
                </tr>
                <tr>
                    <td>name</td>
                    <td><input type="text" name="name" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td>age</td>
                    <td><input type="number" name="age" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td>telenum</td>
                    <td><input type="text" name="telenum" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="3" align="center"><button id="insert">插入</button></td>
                </tr>
            </form>
        </tbody>
    </table>

    <table border="1" cellspacing="0" style="margin-top: 20px">
        <thead>
            <tr>
                <th colspan="3">
                    数据库表users删除信息:
                </th>
            </tr>
        </thead>
        <tbody>
            <form id="2">
            <tr>
                <td width="200">username</td>
                <td width="200"><input type="text" name="username" /></td>
                <td width="200"></td>
            </tr>
            <tr>
                <td colspan="3" align="center"><button id="delete">删除</button></td>
            </tr>
            </form>
        </tbody>
    </table>
</body>
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
<script>
    $('#insert').click(ev => {
        console.log($('#1').serialize().split('&'))
        ev.preventDefault()
        const string = $('#1').serialize()
        fetch(`http://localhost:8080/writePerson?${string}`).then(res => res.json()).then(res => {
            console.log(res);
            location.href = `./show.html?string=${res.data}`
        })
    })
    $('#delete').click(ev=>{
        ev.preventDefault()
        const string = $('#2').serialize()
        fetch(`http://localhost:8080/deleteUsers?${string}`).then(res => res.json()).then(res => {
            console.log(res);
            location.href = `./show.html?string=${res.data}`
        })
    })
</script>

</html>